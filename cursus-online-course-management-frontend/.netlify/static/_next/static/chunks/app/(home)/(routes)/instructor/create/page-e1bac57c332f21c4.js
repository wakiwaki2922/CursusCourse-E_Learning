(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1239],{51856:function(e,r,t){Promise.resolve().then(t.bind(t,97621))},52432:function(e,r,t){"use strict";t.d(r,{A:function(){return c},P6:function(){return s},Xg:function(){return u},Xh:function(){return a},tu:function(){return i}});var n=t(49894),o=t(1398);let s=async e=>{if((0,n.yn)())throw Error("You are not allowed to create course");try{let r=await o.Z.post("/api/courses/auth/createCourse",e);return console.log("Create course response",r.data),r.data}catch(e){if(console.error("[ACTIONS_CREATE_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Fail to create course");throw Error(e.message||"Fail to create course")}},a=async e=>{try{let r=await o.Z.get("/api/courses/getCourseById/".concat(e));return console.log("Get course by id response",r.data),r.data}catch(e){if(console.error("[ACTIONS_GET_COURSE_BY_ID]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async(e,r)=>{if((0,n.yn)())throw Error("You are not allowed to edit course");try{let t=await o.Z.put("/api/courses/auth/updateCourse/".concat(e),r);return console.log("Update response",t.data),t.data}catch(e){if(console.error("[ACTIONS_EDIT_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},u=async(e,r)=>{if((0,n.yn)())throw Error("You are not allowed to upload course thumbnail");try{let t=new FormData;t.append("file",r);let n=await o.Z.put("/api/courses/auth/uploadThumbnail/".concat(e),t);return console.log("Upload response",n.data),n.data}catch(e){if(console.error("[ACTIONS_UPLOAD_THUMBNAIL]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},c=async e=>{if((0,n.yn)())throw Error("You are not allowed to delete course");try{let r=await o.Z.delete("/api/courses/auth/deleteCourse/".concat(e));return console.log("Delete response",r.data),r.data}catch(e){if(console.error("[ACTIONS_DELETE_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Fail to delete course");throw Error(e.message||"Fail to delete course")}}},97621:function(e,r,t){"use strict";t.r(r);var n=t(57437),o=t(12603),s=t(15221),a=t(69022),i=t(16463),u=t(36661),c=t(83102),l=t(87138),d=t(50495),f=t(10209),m=t(52432),p=t(40840),h=t(49894);let g=o.Ry({courseTitle:o.Z_().min(1,{message:"Title is required"})});r.default=()=>{let e=(0,i.useRouter)(),r=(0,h.yn)(),t=(0,a.cI)({resolver:(0,s.F)(g),defaultValues:{courseTitle:""}}),{isSubmitting:o,isValid:x}=t.formState,w=async r=>{try{console.log(r);let t=await (0,m.P6)(r);console.log(t),e.push("/instructor/courses/".concat(t.courseId)),f.ZP.success("Course created")}catch(e){f.ZP.error(e.message||"Something went wrong!")}};return(0,n.jsxs)(n.Fragment,{children:[o&&(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(f.Toaster,{}),!o&&(0,n.jsx)("div",{className:"max-w-5xl mx-auto flex md:items-center md:justify-center h-full p-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl",children:"Name your course"}),(0,n.jsx)("div",{className:"text-sm text-slate-600",children:"It can be changed later!"}),(0,n.jsx)(u.l0,{...t,children:(0,n.jsxs)("form",{onSubmit:t.handleSubmit(w),className:"space-y-8 mt-8",children:[(0,n.jsx)(u.Wi,{control:t.control,name:"courseTitle",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Course Title"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(c.I,{disabled:o,placeholder:"e.g. 'Java Spring Boot'",...r})}),(0,n.jsx)(u.pf,{children:"What your course about?"})]})}}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(l.default,{href:"/instructor/courses",children:(0,n.jsx)(d.z,{variant:"ghost",children:"Cancel"})}),(0,n.jsxs)(d.z,{type:"submit",disabled:!x||o||r,children:["Continue ",r&&"(Blocked)"]})]})]})})]})})]})}},40840:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(57437),o=t(2265);function s(){return(0,o.useEffect)(()=>{(async function(){let{jelly:e}=await t.e(1916).then(t.bind(t,31916));e.register()})()},[]),(0,n.jsx)("l-jelly",{color:"rgb(6 83 142)"})}},50495:function(e,r,t){"use strict";t.d(r,{d:function(){return u},z:function(){return c}});var n=t(57437),o=t(2265),s=t(13350),a=t(73969),i=t(37440);let u=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-emerald-600 text-white hover:bg-emerald-600/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,r)=>{let{className:t,variant:o,size:a,asChild:c=!1,...l}=e,d=c?s.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(u({variant:o,size:a,className:t})),ref:r,...l})});c.displayName="Button"},36661:function(e,r,t){"use strict";t.d(r,{l0:function(){return d},NI:function(){return w},pf:function(){return y},Wi:function(){return m},xJ:function(){return g},lX:function(){return x},zG:function(){return v}});var n=t(57437),o=t(2265),s=t(13350),a=t(69022),i=t(37440),u=t(57490);let c=(0,t(73969).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(u.f,{ref:r,className:(0,i.cn)(c(),t),...o})});l.displayName=u.f.displayName;let d=a.RV,f=o.createContext({}),m=e=>{let{...r}=e;return(0,n.jsx)(f.Provider,{value:{name:r.name},children:(0,n.jsx)(a.Qr,{...r})})},p=()=>{let e=o.useContext(f),r=o.useContext(h),{getFieldState:t,formState:n}=(0,a.Gc)(),s=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...s}},h=o.createContext({}),g=o.forwardRef((e,r)=>{let{className:t,...s}=e,a=o.useId();return(0,n.jsx)(h.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...s})})});g.displayName="FormItem";let x=o.forwardRef((e,r)=>{let{className:t,...o}=e,{error:s,formItemId:a}=p();return(0,n.jsx)(l,{ref:r,className:(0,i.cn)(s&&"text-destructive",t),htmlFor:a,...o})});x.displayName="FormLabel";let w=o.forwardRef((e,r)=>{let{...t}=e,{error:o,formItemId:a,formDescriptionId:i,formMessageId:u}=p();return(0,n.jsx)(s.g7,{ref:r,id:a,"aria-describedby":o?"".concat(i," ").concat(u):"".concat(i),"aria-invalid":!!o,...t})});w.displayName="FormControl";let y=o.forwardRef((e,r)=>{let{className:t,...o}=e,{formDescriptionId:s}=p();return(0,n.jsx)("p",{ref:r,id:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...o})});y.displayName="FormDescription";let v=o.forwardRef((e,r)=>{let{className:t,children:o,...s}=e,{error:a,formMessageId:u}=p(),c=a?String(null==a?void 0:a.message):o;return c?(0,n.jsx)("p",{ref:r,id:u,className:(0,i.cn)("text-sm font-medium text-destructive",t),...s,children:c}):null});v.displayName="FormMessage"},83102:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var n=t(57437),o=t(2265),s=t(37440);let a=o.forwardRef((e,r)=>{let{className:t,type:o,value:a,...i}=e;return(0,n.jsx)("input",{type:o,value:a||"",className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});a.displayName="Input"},49894:function(e,r,t){"use strict";t.d(r,{Wv:function(){return o},pE:function(){return s},yn:function(){return n}});let n=()=>{let e=localStorage.getItem("userData");return!!e&&"BLOCK_ROLE_INSTRUCTOR"===JSON.parse(e).status},o=()=>{let e=localStorage.getItem("userData");return!!e&&"BLOCK_ROLE_STUDENT"===JSON.parse(e).status},s=()=>{let e=localStorage.getItem("userData");return!!e&&!0===JSON.parse(e).verify}},1398:function(e,r,t){"use strict";var n=t(38472),o=t(7561);let s=n.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});s.interceptors.request.use(async e=>{let r;return console.log("Client side cookies: ",r=o.Z.get("jwtToken")),r&&(e.headers.Authorization="Bearer ".concat(r)),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e)),r.Z=s},37440:function(e,r,t){"use strict";t.d(r,{cn:function(){return a},h:function(){return i}});var n=t(98591),o=t(61362),s=t(24516);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}let i=e=>{let r=new Date(e),t=r.getTimezoneOffset();return console.log("Offset:",t),r.setMinutes(r.getMinutes()-t),console.log("Date:",r),(0,o.Q)(r,{addSuffix:!0})}},55206:function(e,r,t){"use strict";t.d(r,{F:function(){return o},e:function(){return s}});var n=t(2265);function o(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}function s(...e){return n.useCallback(o(...e),e)}},57490:function(e,r,t){"use strict";t.d(r,{f:function(){return i}});var n=t(2265),o=t(48712),s=t(57437),a=n.forwardRef((e,r)=>(0,s.jsx)(o.WV.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));a.displayName="Label";var i=a},48712:function(e,r,t){"use strict";t.d(r,{WV:function(){return i},jH:function(){return u}});var n=t(2265),o=t(54887),s=t(13350),a=t(57437),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=n.forwardRef((e,t)=>{let{asChild:n,...o}=e,i=n?s.g7:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i,{...o,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function u(e,r){e&&o.flushSync(()=>e.dispatchEvent(r))}},13350:function(e,r,t){"use strict";t.d(r,{A4:function(){return u},g7:function(){return a}});var n=t(2265),o=t(55206),s=t(57437),a=n.forwardRef((e,r)=>{let{children:t,...o}=e,a=n.Children.toArray(t),u=a.find(c);if(u){let e=u.props.children,t=a.map(r=>r!==u?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(i,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,s.jsx)(i,{...o,ref:r,children:t})});a.displayName="Slot";var i=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e,a;let i=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref;return n.cloneElement(t,{...function(e,r){let t={...r};for(let n in r){let o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?t[n]=(...e)=>{s(...e),o(...e)}:o&&(t[n]=o):"style"===n?t[n]={...o,...s}:"className"===n&&(t[n]=[o,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props),ref:r?(0,o.F)(r,i):i})}return n.Children.count(t)>1?n.Children.only(null):null});i.displayName="SlotClone";var u=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===u}},16463:function(e,r,t){"use strict";var n=t(71169);t.o(n,"redirect")&&t.d(r,{redirect:function(){return n.redirect}}),t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[5508,6018,209,5192,7138,2971,7023,1744],function(){return e(e.s=51856)}),_N_E=e.O()}]);