(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7196],{74278:function(e,s,t){Promise.resolve().then(t.bind(t,71560))},71340:function(e,s,t){"use strict";t.d(s,{AY:function(){return n},eV:function(){return a},vI:function(){return l}});var r=t(1398);let l=async()=>{try{return(await r.Z.get("/api/admin/auth/getAllInstructor")).data}catch(e){return console.log("[ACTIONS_GET_INSTRUCTOR_WITH_COURSE]",e),[]}},n=async e=>{try{return(await r.Z.get("/api/user/getInstructorById/".concat(e))).data}catch(e){return console.log("[ACTIONS_GET_INSTRUCTOR_INFO_BY_ID]",e),null}},a=async e=>{try{return(await r.Z.get("/api/user/auth/getInstructorHavaImageById",{params:{userId:e}})).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}}},71560:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var r=t(57437),l=t(81836),n=t(64344),a=t(18429),c=t(95137),i=t(99827),o=t(74453),u=e=>{let{courseId:s,lesson:t,nextChapterId:l,isLocked:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative aspect-video",children:[n&&(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800 flex-col gap-y-2 text-secondary",children:[(0,r.jsx)(o.Z,{className:"w-8 h-8"}),(0,r.jsx)("p",{className:"text-sm",children:"This lesson is locked!"})]}),!n&&(0,r.jsx)("video",{controls:!0,className:"w-full h-full",src:t.videoUrl})]})})},d=t(63067),x=t(50495),f=t(71935),m=t(92940),h=t(16463),j=t(2265),p=t(10209),N=e=>{let{chapterId:s,courseId:t,isCompleted:l,nextChapterId:n}=e,a=(0,h.useRouter)(),[c,i]=(0,j.useState)(!1),o=async()=>{try{i(!0),(l?await (0,d.ob)(t,s):await (0,d.ES)(t,s))&&(l=!l),!1!=l&&n?a.push("/course/".concat(t,"/lesson/").concat(n)):!1==l||n||a.push("/course/".concat(t,"/lesson/courseCertificate")),p.ZP.success("Progress updated"),a.refresh()}catch(e){console.error("[COURSE_PROGRESS_BUTTON]",e),p.ZP.error(e.message||"Something went wrong!")}finally{i(!1)}},u=l?f.Z:m.Z;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Toaster,{}),(0,r.jsxs)(x.z,{onClick:o,disabled:c,type:"button",variant:l?"outline":"success",className:"w-full md:w-auto",children:[l?"Uncompleted":"Mark as completed",(0,r.jsx)(u,{className:"h-4 w-4 ml-2"})]})]})},v=t(89058),g=t(87138),w=t(71340),y=t(41647),b=e=>{let{instructorId:s}=e,[t,l]=(0,j.useState)();return(0,j.useEffect)(()=>{(async function(){try{let e=await (0,w.AY)(s);e&&l(e)}catch(e){console.error("Error fetching instructor:",e)}})()},[s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"font-semibold text-lg",children:"Instructor Information"}),(0,r.jsxs)("div",{className:"p-4 flex flex-col md:flex-row justify-between",children:[(0,r.jsx)(y.qE,{className:"h-16 w-16",children:(0,r.jsx)(y.F$,{src:(null==t?void 0:t.avatarImageUrl)||"/avatar-default.svg"})}),(0,r.jsxs)("div",{className:"flex flex-col px-6",children:[(0,r.jsx)("h2",{className:"text-base font-normal",children:null==t?void 0:t.fullName}),(0,r.jsx)("p",{className:"text-sm py-1",children:null==t?void 0:t.introduction})]})]}),(0,r.jsx)(a.M,{value:(null==t?void 0:t.professionalExperience)||""})]})},I=t(69942),S=t(40840),E=e=>{let{params:s}=e,[t,o]=(0,j.useState)(),[d,x]=(0,j.useState)(),[f,m]=(0,j.useState)([]),[h,p]=(0,j.useState)(),[w,y]=(0,j.useState)(),[E,Z]=(0,j.useState)();if((0,j.useEffect)(()=>{(async function(){try{let e=await (0,v.d)({lessonId:s.lessonId,courseId:s.courseId});console.log("Lesson Data: ",e),o(e.lesson),x(e.course),p(e.nextChapter),y(e.userProgress),Z(null!=e.enrollment)}catch(e){console.error("Error fetching lesson:",e)}})()},[s]),!t||!d)return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-screen",children:(0,r.jsx)(S.Z,{})})});let _=!t.isFree&&!E;return console.log("Lesson completed: ",!!w),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[w&&(0,r.jsx)(l.j,{variant:"success",label:"Completed."}),_&&(0,r.jsx)(l.j,{variant:"warning",label:"Need purchase this course to watch."}),(0,r.jsxs)("div",{className:"flex flex-col max-w-4xl mx-auto pb-20",children:[(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsxs)(g.default,{href:"/",className:"flex items-center text-sm hover:opacity-75 transition mb-6",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Back to home page"]})}),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)(u,{courseId:s.courseId,lesson:t,nextChapterId:(null==h?void 0:h.lessonId)||"",isLocked:_})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col md:flex-row justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:t.lessonTitle}),E&&(0,r.jsx)(N,{chapterId:t.lessonId,courseId:s.courseId,nextChapterId:null==h?void 0:h.lessonId,isCompleted:!!w})]}),(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{children:(0,r.jsx)(a.M,{value:t.lessonDescription})}),!!f.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"p-4",children:f.map(e=>(0,r.jsxs)("a",{href:e.url,target:"_blank",className:"flex items-center p-3 w-full bg-sky-200 border text-sky-700 rounded-md hover:underline",children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("p",{className:"line-clamp-1",children:e.name})]},e.id))})]}),(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(b,{instructorId:d.userId})}),(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(I.Z,{courseId:d.courseId})})]})]})})}},40840:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(57437),l=t(2265);function n(){return(0,l.useEffect)(()=>{(async function(){let{jelly:e}=await t.e(1916).then(t.bind(t,31916));e.register()})()},[]),(0,r.jsx)("l-jelly",{color:"rgb(6 83 142)"})}},81836:function(e,s,t){"use strict";t.d(s,{j:function(){return u}});var r=t(57437),l=t(36127),n=t(92940),a=t(73969),c=t(37440);let i=(0,a.j)("border text-center p-4 text-sm flex items-center w-full",{variants:{variant:{warning:"bg-yellow-200/80 border-yellow-30 text-primary",success:"bg-emerald-700 border-emerald-800 text-secondary"}},defaultVariants:{variant:"warning"}}),o={warning:l.Z,success:n.Z},u=e=>{let{label:s,variant:t}=e,l=o[t||"warning"];return(0,r.jsxs)("div",{className:(0,c.cn)(i({variant:t})),children:[(0,r.jsx)(l,{className:"h-4 w-4 mr-2"}),s]})}},18429:function(e,s,t){"use strict";t.d(s,{M:function(){return c}});var r=t(57437),l=t(40840),n=t(57818),a=t(2265);t(22636);let c=e=>{let{value:s}=e,[c,i]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>(0,n.default)(()=>Promise.all([t.e(3070),t.e(2916),t.e(8436)]).then(t.t.bind(t,98436,23)),{loadableGenerated:{webpack:()=>[98436]},ssr:!1,loading:()=>(0,r.jsx)(l.Z,{})}),[]),u=c?s:s.slice(0,500)+(s.length>500?"...":"");return(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{theme:"bubble",value:u,readOnly:!0}),s.length>500&&(0,r.jsx)("div",{className:"inline-block",children:(0,r.jsx)("button",{onClick:()=>{i(e=>!e)},className:"px-3 text-sm",children:c?"Show less":"Show more"})})]})}},41647:function(e,s,t){"use strict";t.d(s,{F$:function(){return i},Q5:function(){return o},qE:function(){return c}});var r=t(57437),l=t(2265),n=t(84827),a=t(37440);let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(n.fC,{ref:s,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l})});c.displayName=n.fC.displayName;let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(n.Ee,{ref:s,className:(0,a.cn)("aspect-square h-full w-full",t),...l})});i.displayName=n.Ee.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(n.NY,{ref:s,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full ",t),...l})});o.displayName=n.NY.displayName}},function(e){e.O(0,[4661,5508,6018,209,7138,6308,1979,2971,7023,1744],function(){return e(e.s=74278)}),_N_E=e.O()}]);