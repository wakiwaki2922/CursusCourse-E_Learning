(()=>{var e={};e.id=1239,e.ids=[1239],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},89406:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(36219),t(47155),t(85877),t(35866),t(92414),t(26083);var s=t(23191),o=t(88716),a=t(37922),n=t.n(a),i=t(95231),u={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);t.d(r,u);let l=["",{children:["(home)",{children:["(routes)",{children:["instructor",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36219)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\instructor\\create\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,47155)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\instructor\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\instructor\\create\\page.tsx"],d="/(home)/(routes)/instructor/create/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(home)/(routes)/instructor/create/page",pathname:"/instructor/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},84696:(e,r,t)=>{Promise.resolve().then(t.bind(t,66417))},7550:(e,r,t)=>{Promise.resolve().then(t.bind(t,7449))},35893:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,P6:()=>a,Xg:()=>u,Xh:()=>n,tu:()=>i});var s=t(96580),o=t(49547);let a=async e=>{if((0,s.yn)())throw Error("You are not allowed to create course");try{let r=await o.Z.post("/api/courses/auth/createCourse",e);return console.log("Create course response",r.data),r.data}catch(e){if(console.error("[ACTIONS_CREATE_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Fail to create course");throw Error(e.message||"Fail to create course")}},n=async e=>{try{let r=`/api/courses/getCourseById/${e}`,t=await o.Z.get(r);return console.log("Get course by id response",t.data),t.data}catch(e){if(console.error("[ACTIONS_GET_COURSE_BY_ID]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async(e,r)=>{if((0,s.yn)())throw Error("You are not allowed to edit course");try{let t=`/api/courses/auth/updateCourse/${e}`,s=await o.Z.put(t,r);return console.log("Update response",s.data),s.data}catch(e){if(console.error("[ACTIONS_EDIT_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},u=async(e,r)=>{if((0,s.yn)())throw Error("You are not allowed to upload course thumbnail");try{let t=new FormData;t.append("file",r);let s=`/api/courses/auth/uploadThumbnail/${e}`,a=await o.Z.put(s,t);return console.log("Upload response",a.data),a.data}catch(e){if(console.error("[ACTIONS_UPLOAD_THUMBNAIL]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},l=async e=>{if((0,s.yn)())throw Error("You are not allowed to delete course");try{let r=`/api/courses/auth/deleteCourse/${e}`,t=await o.Z.delete(r);return console.log("Delete response",t.data),t.data}catch(e){if(console.error("[ACTIONS_DELETE_COURSE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Fail to delete course");throw Error(e.message||"Fail to delete course")}}},66417:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(10326),o=t(89394),a=t(98007),n=t(4387),i=t(35047),u=t(29270),l=t(54432),c=t(90434),d=t(90772),p=t(18766),m=t(35893),h=t(18713),g=t(96580);let f=o.Ry({courseTitle:o.Z_().min(1,{message:"Title is required"})}),x=()=>{let e=(0,i.useRouter)(),r=(0,g.yn)(),t=(0,n.cI)({resolver:(0,a.F)(f),defaultValues:{courseTitle:""}}),{isSubmitting:o,isValid:x}=t.formState,y=async r=>{try{console.log(r);let t=await (0,m.P6)(r);console.log(t),e.push(`/instructor/courses/${t.courseId}`),p.ZP.success("Course created")}catch(e){p.ZP.error(e.message||"Something went wrong!")}};return(0,s.jsxs)(s.Fragment,{children:[o&&s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(h.Z,{})}),s.jsx(p.Toaster,{}),!o&&s.jsx("div",{className:"max-w-5xl mx-auto flex md:items-center md:justify-center h-full p-6",children:(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl",children:"Name your course"}),s.jsx("div",{className:"text-sm text-slate-600",children:"It can be changed later!"}),s.jsx(u.l0,{...t,children:(0,s.jsxs)("form",{onSubmit:t.handleSubmit(y),className:"space-y-8 mt-8",children:[s.jsx(u.Wi,{control:t.control,name:"courseTitle",render:({field:e})=>(0,s.jsxs)(u.xJ,{children:[s.jsx(u.lX,{children:"Course Title"}),s.jsx(u.NI,{children:s.jsx(l.I,{disabled:o,placeholder:"e.g. 'Java Spring Boot'",...e})}),s.jsx(u.pf,{children:"What your course about?"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[s.jsx(c.default,{href:"/instructor/courses",children:s.jsx(d.z,{variant:"ghost",children:"Cancel"})}),(0,s.jsxs)(d.z,{type:"submit",disabled:!x||o||r,children:["Continue ",r&&"(Blocked)"]})]})]})})]})})]})}},7449:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(10326),o=t(88996),a=t(14960),n=t(35047),i=t(17577);let u=({children:e})=>{(0,a.j)();let r=(0,n.useRouter)();return(0,i.useEffect)(()=>{(0,o.w)()||r.push("/authenticate/login")},[r]),s.jsx(s.Fragment,{children:e})}},18713:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(10326);function o(){return s.jsx("l-jelly",{color:"rgb(6 83 142)"})}t(17577)},29270:(e,r,t)=>{"use strict";t.d(r,{l0:()=>d,NI:()=>y,pf:()=>w,Wi:()=>m,xJ:()=>f,lX:()=>x,zG:()=>v});var s=t(10326),o=t(17577),a=t(33099),n=t(4387),i=t(77863),u=t(81490);let l=(0,t(48449).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef(({className:e,...r},t)=>s.jsx(u.f,{ref:t,className:(0,i.cn)(l(),e),...r}));c.displayName=u.f.displayName;let d=n.RV,p=o.createContext({}),m=({...e})=>s.jsx(p.Provider,{value:{name:e.name},children:s.jsx(n.Qr,{...e})}),h=()=>{let e=o.useContext(p),r=o.useContext(g),{getFieldState:t,formState:s}=(0,n.Gc)(),a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},g=o.createContext({}),f=o.forwardRef(({className:e,...r},t)=>{let a=o.useId();return s.jsx(g.Provider,{value:{id:a},children:s.jsx("div",{ref:t,className:(0,i.cn)("space-y-2",e),...r})})});f.displayName="FormItem";let x=o.forwardRef(({className:e,...r},t)=>{let{error:o,formItemId:a}=h();return s.jsx(c,{ref:t,className:(0,i.cn)(o&&"text-destructive",e),htmlFor:a,...r})});x.displayName="FormLabel";let y=o.forwardRef(({...e},r)=>{let{error:t,formItemId:o,formDescriptionId:n,formMessageId:i}=h();return s.jsx(a.g7,{ref:r,id:o,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});y.displayName="FormControl";let w=o.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:o}=h();return s.jsx("p",{ref:t,id:o,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});w.displayName="FormDescription";let v=o.forwardRef(({className:e,children:r,...t},o)=>{let{error:a,formMessageId:n}=h(),u=a?String(a?.message):r;return u?s.jsx("p",{ref:o,id:n,className:(0,i.cn)("text-sm font-medium text-destructive",e),...t,children:u}):null});v.displayName="FormMessage"},49547:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(44099);t(95044);let o=s.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});o.interceptors.request.use(async e=>{let r;return r&&(e.headers.Authorization=`Bearer ${r}`),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e));let a=o},14960:(e,r,t)=>{"use strict";t.d(r,{j:()=>l});var s=t(95044),o=t(18766),a=t(49547);let n=async e=>{try{return await a.Z.get("/api/auth/verifyToken?token="+e),console.log("[ACTIONS_IS_TOKEN_EXPIRED] Token is valid"),!1}catch(e){return console.log("[ACTIONS_IS_TOKEN_EXPIRED]",e),!0}},i=async({accessToken:e,refreshToken:r})=>{try{console.log("[ACTIONS_GET_REFRESH_TOKEN] Requesting refresh token: accessToken",e,"refreshToken",r);let t=await a.Z.post("/api/auth/refreshToken",{accessToken:e,refreshToken:r});return console.log("[ACTIONS_GET_REFRESH_TOKEN] Refresh token response: ",t.data),t.data}catch(e){if(console.error("[ACTIONS_GET_REFRESH_TOKEN]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},u=()=>{},l=async()=>{let e=s.Z.get("jwtToken"),r=s.Z.get("refreshToken");if(!e||!r)return u(),!1;if(await n(e)===!0)try{let t=await i({accessToken:e,refreshToken:r});console.log("Refresh token response: ",t),s.Z.set("jwtToken",t.token),s.Z.set("refreshToken",t.refreshToken)}catch(e){return c(e),u(),!1}return!0},c=e=>{if(e.response)switch(e.response.status){case 403:o.ZP.error("You do not have permission to access this resource.");break;case 401:o.ZP.error("Session expired. Please login again.");break;case 500:o.ZP.error("Server error. Please try again later.");break;default:o.ZP.error("An error occurred. Please try again.")}else o.ZP.error("Network error. Please check your connection.")}},81490:(e,r,t)=>{"use strict";t.d(r,{f:()=>i});var s=t(17577),o=t(11772),a=t(10326),n=s.forwardRef((e,r)=>(0,a.jsx)(o.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var i=n},36219:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});var s=t(68570);let o=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\instructor\create\page.tsx`),{__esModule:a,$$typeof:n}=o;o.default;let i=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\instructor\create\page.tsx#default`)},47155:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});var s=t(68570);let o=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\instructor\layout.tsx`),{__esModule:a,$$typeof:n}=o;o.default;let i=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\instructor\layout.tsx#default`)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,6648,9936,4099,7033,3487],()=>t(89406));module.exports=s})();