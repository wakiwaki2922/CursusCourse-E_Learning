(()=>{var e={};e.id=473,e.ids=[473],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},32301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>g,originalPathname:()=>d,pages:()=>l,routeModule:()=>m,tree:()=>c}),r(12119),r(32650),r(85877),r(35866),r(92414),r(26083);var s=r(23191),o=r(88716),n=r(37922),a=r.n(n),i=r(95231),u={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);r.d(t,u);let c=["",{children:["(home)",{children:["(routes)",{children:["authenticate",{children:["verify",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,12119)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\verify\\[token]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32650)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\verify\\[token]\\page.tsx"],d="/(home)/(routes)/authenticate/verify/[token]/page",g={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(home)/(routes)/authenticate/verify/[token]/page",pathname:"/authenticate/verify/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9575:(e,t,r)=>{Promise.resolve().then(r.bind(r,11228))},68434:(e,t,r)=>{Promise.resolve().then(r.bind(r,18766))},33101:(e,t,r)=>{"use strict";r.d(t,{Cb:()=>a,Q3:()=>o,c0:()=>c,gF:()=>u,x4:()=>n,y1:()=>i});var s=r(49547);let o=async e=>{try{let t=`/api/verifyEmailByToken/${e}`;return await s.Z.get(t)}catch(e){if(console.log("[ACTIONS_VERIFY_EMAIL]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},n=async e=>{try{return(await s.Z.post("/api/auth/login",e)).data}catch(e){if(console.log("[ACTIONS_LOGIN]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},a=async e=>{try{console.log("Token: ",e);let t=await s.Z.post("/api/auth/loginWithGoogle",{access_token:e});return console.log("Backend response:",t.data),t.data}catch(e){if(console.log("[ACTIONS_LOGIN_WITH_GOOGLE]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Login with Google fail!");throw Error(e.message||"Login with Google fail!")}},i=async e=>{try{return await s.Z.post("/api/auth/register",e)}catch(e){if(console.log("API_USER_AUTHENTICATE_SIGN_UP",e),e.response&&e.response.data)throw Error(e.response.data.message||"Signup fail!");throw Error(e.message||"Signup fail!")}},u=async e=>{try{let t=`/api/auth/forgotPassword/${e}`;return(await s.Z.get(t)).data}catch(e){return console.error("[ACTIONS_FORGOT_PASSWORD]",e),null}},c=async e=>{try{return(await s.Z.post("/api/auth/resetPassword",e)).data}catch(e){return console.error("[ACTIONS_RESET_PASSWORD]",e),null}}},31200:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>i,Nq:()=>a,PR:()=>n,ZP:()=>o,zP:()=>u});var s=r(49547);let o=async()=>{try{return(await s.Z.get("/api/user/auth/getFullUserDetails")).data}catch(e){return console.error("[ACTIONS_GET_FULL_USER_DETAILS]",e),null}},n=async()=>{try{return(await s.Z.get("/api/user/auth/getUser")).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}},a=async e=>{try{return(await s.Z.put("/api/user/auth/updateUser",e)).data}catch(e){if(console.error("[ACTIONS_UPDATE_USER]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async e=>{try{return(await s.Z.patch("/api/user/auth/changePassword",e)).data}catch(e){if(console.error("[ACTIONS_CHANGE_PASSWORD]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},u=async e=>{try{return(await s.Z.put("/api/user/auth/registerBecomeInstructor",e)).data}catch(e){if(console.error("[ACTIONS_REGISTER_BECOME_INSTRUCTOR]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}}},11228:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(10326),o=r(33101),n=r(90772),a=r(35047),i=r(17577),u=r(95044),c=r(31200);let l=({params:e})=>{let t=(0,a.useRouter)(),r=(0,i.useRef)(null),[l,d]=(0,i.useState)(5),[g,m]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),[x,y]=(0,i.useState)(!1),[f,w]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{(async()=>{try{let t=u.Z.get("jwtToken");t?console.log("Token exists:"):(t=e.token,console.log("Token does not exist"));let r=await (0,o.Q3)(t);y(!0),w(!0),m(!1);try{y(!0),w(!0),m(!1),u.Z.set("jwtToken",r.data.token,{expires:1});let e=await (0,c.ZP)();console.log("User Data Sign Up",e),localStorage.setItem("userData",JSON.stringify(e))}catch(e){console.error("Get Full User Details failed:",e.message),h("Get Full User Details failed:"+String(e.message))}}catch(e){console.log("Verification failed",e),e.response&&e.response.data?h(String(e.response.data)||"Something went wrong"):h(String(e.message)||"Something went wrong"),m(!1),w(!0)}})()},[e.token,t]),(0,i.useEffect)(()=>{if(!0==f){r.current=setTimeout(()=>{"You need to login again because you are expired your access."==p?t.push("/authenticate/login"):t.push("/")},5e3);let e=setInterval(()=>{d(e=>e-1)},1e3);return()=>{r.current&&clearTimeout(r.current),clearInterval(e)}}},[f,p,t]),s.jsx("div",{className:"fixed flex inset-0 top-0 left-0 right-0 bottom-0 items-center justify-center bg-gradient",children:(0,s.jsxs)("div",{className:"z-10 flex flex-col relative bg-white p-8 rounded-lg shadow-lg transform transition duration-500 hover:scale-105",children:[p&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-center text-green-600",children:"Email Verified Successfully!"}),(0,s.jsxs)("h3",{className:"text-3xl font-bold mb-4 text-center text-black",children:["But!!! ",p]}),(0,s.jsxs)("p",{className:"mb-4 text-center text-gray-600",children:["You will be redirected to the next page in"," ",s.jsx("span",{className:"font-semibold text-gray-800",children:l})," ","seconds..."]})]}),g&&s.jsx("p",{className:"mb-4 text-center text-gray-600",children:"Loading..."}),!p&&x&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-center  text-green-600",children:"Email Verified Successfully!"}),(0,s.jsxs)("p",{className:"mb-4 text-center text-gray-600",children:["You will be redirected to the home page in"," ",s.jsx("span",{className:"font-semibold text-gray-800",children:l})," ","seconds..."]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(n.z,{onClick:()=>{r.current&&clearTimeout(r.current),t.push("/")},disabled:g,children:"Go to Home"})})]})]})})}},49547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(44099);r(95044);let o=s.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});o.interceptors.request.use(async e=>{let t;return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e));let n=o},32650:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),o=r(44704);let n=({children:e})=>(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.x7,{}),e]})},12119:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});var s=r(68570);let o=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\authenticate\verify\[token]\page.tsx`),{__esModule:n,$$typeof:a}=o;o.default;let i=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\authenticate\verify\[token]\page.tsx#default`)},44704:(e,t,r)=>{"use strict";r.d(t,{x7:()=>i});var s=r(68570);let o=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs`),{__esModule:n,$$typeof:a}=o;o.default,(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#CheckmarkIcon`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#ErrorIcon`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#LoaderIcon`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#ToastBar`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#ToastIcon`);let i=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#Toaster`);(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#default`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#resolveValue`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#toast`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#useToaster`),(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\node_modules\react-hot-toast\dist\index.mjs#useToasterStore`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,6648,9936,4099,3487],()=>r(32301));module.exports=s})();