(()=>{var e={};e.id=1363,e.ids=[1363],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},21154:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(88775),r(80825),r(85877),r(35866),r(92414),r(26083);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(home)",{children:["(routes)",{children:["admin",{children:["instructor",{children:["analytics",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,88775)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\admin\\instructor\\analytics\\[userId]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,80825)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\admin\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\admin\\instructor\\analytics\\[userId]\\page.tsx"],u="/(home)/(routes)/admin/instructor/analytics/[userId]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(home)/(routes)/admin/instructor/analytics/[userId]/page",pathname:"/admin/instructor/analytics/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56433:(e,t,r)=>{Promise.resolve().then(r.bind(r,55437))},27581:(e,t,r)=>{Promise.resolve().then(r.bind(r,12528))},55437:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var s=r(10326),a=r(35047),n=r(33071),i=r(34474),l=r(90072),o=r(17577);let d=({value:e,label:t,shouldFormat:r,onSelectChange:a})=>{let[d,c]=(0,o.useState)(1);return(0,o.useEffect)(()=>{1!==d&&a(d)},[d,a]),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)(n.ll,{className:"text-sm font-medium",children:[t," of last ",d," ",d>1?"months":"month"]}),(0,s.jsxs)(i.Ph,{onValueChange:e=>c(parseInt(e)),children:[s.jsx(i.i4,{className:"w-fit",children:s.jsx(i.ki,{})}),s.jsx(i.Bw,{children:(0,s.jsxs)(i.DI,{children:[s.jsx(i.n5,{children:t}),s.jsx(i.Ql,{value:"1",children:"Last 1 month"}),s.jsx(i.Ql,{value:"3",children:"Last 3 months"}),s.jsx(i.Ql,{value:"6",children:"Last 6 months"}),s.jsx(i.Ql,{value:"9",children:"Last 9 months"}),s.jsx(i.Ql,{value:"12",children:"Last 1 year"})]})})]})]}),s.jsx(n.aY,{children:s.jsx("div",{className:"text-2xl font-bold",children:r?(0,l.T)(e):e})})]})};var c=r(49547);let u=async(e,t,r)=>{try{let s=await x(e),a=await h(e),n=await p(e,r),i=await m(e,t);return{pieChartData:s,composedChartData:a,totalRevenue:i,totalSales:n}}catch(e){return console.log("[ACTION_GET_ANALYTICS]",e),{pieChartData:[],composedChartData:[],totalRevenue:0,totalSales:0}}},m=async(e,t)=>{try{return(await c.Z.get("/api/instructor/statistic/quarterlyRevenue",{params:{userId:e,quarter:t}})).data}catch(e){return console.error("[ACTIONS_GET_TOTAL_REVENUE]",e),0}},p=async(e,t)=>{try{return(await c.Z.get("/api/instructor/statistic/quarterlyEnrollment",{params:{userId:e,quarter:t}})).data}catch(e){return console.error("[ACTIONS_GET_TOTAL_SALES]",e),0}},x=async e=>{try{let t=(await c.Z.get("/api/instructor/statistic/revenueOfEachCourse",{params:{userId:e}})).data;return Object.entries(t).map(([e,t])=>({name:e,total:t}))}catch(e){return console.error("[ACTIONS_GET_CHARTS]",e),[]}},h=async e=>{try{return(await c.Z.get("/api/instructor/statistic/analysis",{params:{userId:e}})).data}catch(e){return console.error("[ACTIONS_GET_COMPOSED_CHART]",e),[]}};var f=r(88996),y=r(30660),g=r(20751),j=r(78948),v=r(99630),b=r(69274);let w=["#0088FE","#00C49F","#FFBB28","#FF8042"],N=Math.PI/180,C=({cx:e,cy:t,midAngle:r,innerRadius:a,outerRadius:n,percent:i,index:l})=>{let o=a+(n-a)*.5,d=e+o*Math.cos(-r*N);return s.jsx("text",{x:d,y:t+o*Math.sin(-r*N),fill:"white",textAnchor:d>e?"start":"end",dominantBaseline:"central",children:`${(100*i).toFixed(0)}%`})},_=e=>{let{payload:t}=e;return s.jsx("ul",{className:"list-none p-0 m-0 grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-4 h-4 mr-2",style:{backgroundColor:e.color}}),s.jsx("span",{className:"break-words",children:e.value})]},`item-${t}`))})},k=({label:e,data:t})=>s.jsx(s.Fragment,{children:(0,s.jsxs)(n.Zb,{children:[s.jsx(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(n.ll,{className:"text-sm font-medium",children:e})}),s.jsx(y.h,{width:"100%",height:400,children:(0,s.jsxs)(g.u,{children:[s.jsx(j.b,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:C,outerRadius:80,fill:"#8884d8",dataKey:"total",children:t.sort((e,t)=>t.total-e.total).map((e,t)=>s.jsx(v.b,{fill:w[t%w.length]},`cell-${t}`))}),s.jsx(b.D,{content:_})]})})]})});var P=r(45661),R=r(18423),q=r(62637),D=r(9997),S=r(44675),I=r(8564),T=r(74390);class A extends o.PureComponent{render(){let{data:e}=this.props;return s.jsx(s.Fragment,{children:s.jsx(n.Zb,{children:s.jsx(y.h,{width:"100%",height:"100%",children:(0,s.jsxs)(P.c,{width:500,height:300,data:e,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(R.q,{strokeDasharray:"3 3"}),s.jsx(q.K,{dataKey:"monthYear"}),s.jsx(D.B,{yAxisId:"left"}),s.jsx(D.B,{yAxisId:"right",orientation:"right"}),s.jsx(S.u,{}),s.jsx(b.D,{}),s.jsx(I.$,{yAxisId:"left",type:"monotone",dataKey:"totalRevenue",fill:"#82ca9d",barSize:20}),s.jsx(T.x,{yAxisId:"right",type:"monotone",dataKey:"numberOfEnrollments",stroke:"#8884d8",activeDot:{r:8}})]})})})})}}var Z=r(99366);let E=({params:e})=>{let t=(0,a.useRouter)(),r=[{title:"Dashboard",link:"/admin/dashboard"},{title:"Instructor Management",link:"/admin/instructor"},{title:"Analytics",link:`/admin/instructor/analytics/${e.userId}`}],[n,i]=(0,o.useState)({pieChartData:[],composedChartData:[],totalRevenue:0,totalSales:0}),[l,c]=(0,o.useState)(1),[m,p]=(0,o.useState)(1);return(0,o.useEffect)(()=>{f.w?(async(t,r)=>{let{pieChartData:s,composedChartData:a,totalRevenue:n,totalSales:l}=await u(e.userId,t,r);i({pieChartData:s||[],composedChartData:a||[],totalRevenue:n,totalSales:l})})(l,m):(0,a.redirect)("/")},[t,l,m,e.userId]),s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx(Z.O,{items:r}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 mb-4",children:[s.jsx(d,{label:"Total Sales",value:n.totalSales,onSelectChange:e=>p(e)}),s.jsx(d,{label:"Total Revenue",value:n.totalRevenue,shouldFormat:!0,onSelectChange:e=>c(e)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(k,{label:"Percent revenue of each course in last month",data:n.pieChartData}),s.jsx(A,{data:n.composedChartData})]})]})})}},12528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(10326),a=r(59523),n=r(35047),i=r(17577);let l=({children:e})=>{let t=(0,n.useRouter)();return(0,i.useEffect)(()=>{(0,a.G)()||t.push("/authenticate/login")},[t]),s.jsx(s.Fragment,{children:e})}},99366:(e,t,r)=>{"use strict";r.d(t,{O:()=>h});var s=r(10326),a=r(23742),n=r(17577),i=r(33099),l=r(39183),o=(r(15919),r(77863));let d=n.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));d.displayName="Breadcrumb";let c=n.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:(0,o.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));c.displayName="BreadcrumbList";let u=n.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:(0,o.cn)("inline-flex items-center gap-1.5",e),...t}));u.displayName="BreadcrumbItem";let m=n.forwardRef(({asChild:e,className:t,...r},a)=>{let n=e?i.g7:"a";return s.jsx(n,{ref:a,className:(0,o.cn)("transition-colors hover:text-foreground",t),...r})});m.displayName="BreadcrumbLink";let p=n.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("font-normal text-foreground",e),...t}));p.displayName="BreadcrumbPage";let x=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",t),...r,children:e??s.jsx(l.Z,{})});function h({items:e}){return s.jsx(d,{children:s.jsx(c,{children:e.map((t,r)=>(0,s.jsxs)(n.Fragment,{children:[r!==e.length-1&&s.jsx(u,{children:s.jsx(m,{href:t.link,children:t.title})}),r<e.length-1&&s.jsx(x,{children:s.jsx(a.Z,{})}),r===e.length-1&&s.jsx(p,{children:t.title})]},t.title))})})}x.displayName="BreadcrumbSeparator"},33071:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>o});var s=r(10326),a=r(17577),n=r(77863);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},34474:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>f,DI:()=>u,Ph:()=>c,Ql:()=>g,i4:()=>p,ki:()=>m,n5:()=>y});var s=r(10326),a=r(17577),n=r(57160),i=r(941),l=r(96633),o=r(32933),d=r(77863);let c=n.fC,u=n.ZA,m=n.B4,p=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(n.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(n.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=n.xz.displayName;let x=a.forwardRef(({className:e,...t},r)=>s.jsx(n.u_,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=n.u_.displayName;let h=a.forwardRef(({className:e,...t},r)=>s.jsx(n.$G,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=n.$G.displayName;let f=a.forwardRef(({className:e,children:t,position:r="popper",...a},i)=>s.jsx(n.h_,{children:(0,s.jsxs)(n.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(x,{}),s.jsx(n.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(h,{})]})}));f.displayName=n.VY.displayName;let y=a.forwardRef(({className:e,...t},r)=>s.jsx(n.__,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));y.displayName=n.__.displayName;let g=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(n.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(o.Z,{className:"h-4 w-4"})})}),s.jsx(n.eT,{children:t})]}));g.displayName=n.ck.displayName,a.forwardRef(({className:e,...t},r)=>s.jsx(n.Z0,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},49547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(44099);r(95044);let a=s.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});a.interceptors.request.use(async e=>{let t;return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e));let n=a},90072:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});let s=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},15919:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},23742:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},88775:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\admin\instructor\analytics\[userId]\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\admin\instructor\analytics\[userId]\page.tsx#default`)},80825:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\admin\layout.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\admin\layout.tsx#default`)}};var t=require("../../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,6648,9936,4099,6409,8562,3487],()=>r(21154));module.exports=s})();