(()=>{var e={};e.id=9120,e.ids=[9120],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},8420:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),s(15763),s(40928),s(85877),s(35866),s(92414),s(26083);var t=s(23191),a=s(88716),o=s(37922),n=s.n(o),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let c=["",{children:["(home)",{children:["(routes)",{children:["user",{children:["profile",{children:["password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15763)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\profile\\password\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,40928)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\profile\\password\\page.tsx"],d="/(home)/(routes)/user/profile/password/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(home)/(routes)/user/profile/password/page",pathname:"/user/profile/password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},18261:(e,r,s)=>{Promise.resolve().then(s.bind(s,8936))},32957:(e,r,s)=>{Promise.resolve().then(s.bind(s,77418))},83994:(e,r,s)=>{"use strict";s.d(r,{GA:()=>i,Mu:()=>l,gg:()=>o,hH:()=>n,lm:()=>c,xC:()=>a});var t=s(49547);let a=async()=>{try{return(await t.Z.get("/api/admin/auth/getAllStudent")).data}catch(e){return console.log("[ACTIONS_GET_STUDENT_WITH_ENROLLMENT]",e),[]}},o=async e=>{try{let r=new FormData;r.append("file",e);let s=await t.Z.put("/api/user/auth/uploadAvatar",r);return console.log("Upload response",s.data),s.data}catch(e){if(console.error("[ACTIONS_UPLOAD_AVATAR]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},n=async e=>{try{return(await t.Z.get("/api/courses/auth/getStudentOwnedCoursesById",{params:{userId:e}})).data}catch(e){return console.log("[ACTIONS_GET_STUDENT_OWN_COURSES]",e),[]}},i=async e=>{try{return(await t.Z.get("/api/user/auth/getUserById",{params:{userId:e}})).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}},l=async(e,r)=>{try{let s=`/api/admin/auth/updateStatusUser/${e}`;return(await t.Z.put(s,null,{params:{newStatus:r}})).data}catch(e){if(console.error("[ACTIONS_GET_USER]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},c=async e=>{try{return(await t.Z.get(`/api/auth/sendVerifyEmail/${e}`)).data}catch(e){if(console.error("[ACTIONS_VERIFY_EMAIL]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}}},31200:(e,r,s)=>{"use strict";s.d(r,{Cp:()=>i,Nq:()=>n,PR:()=>o,ZP:()=>a,zP:()=>l});var t=s(49547);let a=async()=>{try{return(await t.Z.get("/api/user/auth/getFullUserDetails")).data}catch(e){return console.error("[ACTIONS_GET_FULL_USER_DETAILS]",e),null}},o=async()=>{try{return(await t.Z.get("/api/user/auth/getUser")).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}},n=async e=>{try{return(await t.Z.put("/api/user/auth/updateUser",e)).data}catch(e){if(console.error("[ACTIONS_UPDATE_USER]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async e=>{try{return(await t.Z.patch("/api/user/auth/changePassword",e)).data}catch(e){if(console.error("[ACTIONS_CHANGE_PASSWORD]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},l=async e=>{try{return(await t.Z.put("/api/user/auth/registerBecomeInstructor",e)).data}catch(e){if(console.error("[ACTIONS_REGISTER_BECOME_INSTRUCTOR]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}}},95090:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d});var t=s(10326),a=s(83994),o=s(31200),n=s(90772),i=s(77083),l=s(96580),c=s(17577),u=s(18766);let d=()=>{let[e,r]=(0,c.useState)();if((0,c.useEffect)(()=>{(async()=>{try{let e=await (0,o.ZP)();r(e)}catch(e){u.ZP.error(e.message||"Failed to get user")}})()},[]),!e)return null;console.log("Form header user data",e);let s=async()=>{try{await (0,a.lm)(e?.email),u.ZP.success("Verification email sent! Check your inbox")}catch(e){u.ZP.error(e.message||"Something went wrong")}};return(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.x,{}),(0,t.jsxs)("div",{className:"space-y-0.5",children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and what you wanna be in Cursus"})]}),!(0,l.pE)()&&t.jsx(n.z,{onClick:s,children:"Verify account"})]})}},92632:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(10326),a=s(35047);let o=()=>{(0,a.useRouter)();let e=(0,a.usePathname)(),r=r=>{let s="inline-flex items-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:text-accent-foreground h-9 px-4 py-2 justify-start";return e===r?`${s} bg-muted hover:bg-muted`:`${s} hover:bg-transparent hover:underline`};return(0,t.jsxs)("nav",{className:"flex flex-wrap space-x-0 lg:flex-col lg:space-x-0 lg:space-y-1",children:[t.jsx("a",{href:"/user/profile",className:r("/user/profile"),children:"Profile"}),t.jsx("a",{href:"/user/profile/avatar",className:r("/user/profile/avatar"),children:"Upload Avatar"}),t.jsx("a",{href:"/user/profile/password",className:r("/user/profile/password"),children:"Edit Password"}),t.jsx("a",{href:"/user/profile/account",className:r("/user/profile/account"),children:"Account"})]})}},8936:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(10326),a=s(17577),o=s(82832),n=s(96580),i=s(14960);let l=({children:e})=>{let[r,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(0,i.j)(),s((0,n.Wv)()),c((0,n.pE)())},[]),(0,t.jsxs)(t.Fragment,{children:[r&&t.jsx(o.j,{label:"Your student account is blocked. Please contact support."}),!l&&t.jsx(o.j,{label:"Your account is not verified. Please verify your account to continue."}),e]})}},77418:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>w});var t=s(10326),a=s(17577),o=s(4387),n=s(98007),i=s(89394),l=s(54432),c=s(90772),u=s(18766),d=s(29270),p=s(35047),m=s(92632),h=s(31200),g=s(18713),x=s(95090);let f=i.Ry({currentPassword:i.Z_().min(1,{message:"Current password is required"}),newPassword:i.Z_().min(6,{message:"New password must be at least 6 characters"}),confirmPassword:i.Z_().min(6,{message:"Confirm password must be at least 6 characters"})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),w=()=>{let[e,r]=(0,a.useState)(!0),s=(0,o.cI)({resolver:(0,n.F)(f),mode:"onChange"}),i=(0,p.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{await new Promise(e=>setTimeout(e,1e3))}catch(e){console.error("Failed to fetch data:",e)}finally{r(!1)}})()},[]);let{handleSubmit:w,formState:{errors:y,isSubmitting:v,isValid:j}}=s,P=async e=>{try{let{currentPassword:r,newPassword:s}=e;await (0,h.Cp)({currentPassword:r,newPassword:s}),u.ZP.success("Password updated successfully"),i.refresh()}catch(e){console.error("Failed to update password:",e),u.ZP.error(e.message||"Failed to update password")}finally{s.reset()}};return e?t.jsx(t.Fragment,{children:t.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:t.jsx(g.Z,{})})}):t.jsx(t.Fragment,{children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx(u.Toaster,{}),t.jsx("div",{className:"rounded-[0.5rem] border bg-background shadow",children:(0,t.jsxs)("div",{className:"space-y-6 p-10 pb-16",children:[t.jsx(x.Z,{}),t.jsx("div",{className:"shrink-0 bg-border h-[1px] w-full my-6"}),(0,t.jsxs)("div",{className:"flex flex-col space-y-8 lg:flex-row lg:space-x-12 lg:space-y-0",children:[t.jsx("aside",{className:"-mx-4 lg:w-1/5",children:t.jsx(m.Z,{})}),t.jsx("div",{className:"flex-1 lg:max-w-2xl",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"Edit Password"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Change your account password."})]}),t.jsx("div",{className:"shrink-0 bg-border h-[1px] w-full my-6"}),t.jsx(d.l0,{...s,children:(0,t.jsxs)("form",{onSubmit:w(P),className:"space-y-4 mt-8",children:[t.jsx(d.Wi,{control:s.control,name:"currentPassword",render:({field:e})=>(0,t.jsxs)(d.xJ,{children:[t.jsx(d.lX,{children:"Current Password"}),t.jsx(d.NI,{children:t.jsx(l.I,{type:"password",placeholder:"Current Password",...e})}),y.currentPassword&&t.jsx(d.zG,{children:y.currentPassword.message})]})}),t.jsx(d.Wi,{control:s.control,name:"newPassword",render:({field:e})=>(0,t.jsxs)(d.xJ,{children:[t.jsx(d.lX,{children:"New Password"}),t.jsx(d.NI,{children:t.jsx(l.I,{type:"password",placeholder:"New Password",...e})}),y.newPassword&&t.jsx(d.zG,{children:y.newPassword.message})]})}),t.jsx(d.Wi,{control:s.control,name:"confirmPassword",render:({field:e})=>(0,t.jsxs)(d.xJ,{children:[t.jsx(d.lX,{children:"Confirm Password"}),t.jsx(d.NI,{children:t.jsx(l.I,{type:"password",placeholder:"Confirm Password",...e})}),y.confirmPassword&&t.jsx(d.zG,{children:y.confirmPassword.message})]})}),t.jsx("div",{className:"flex items-center gap-x-2 justify-end",children:t.jsx(c.z,{type:"submit",disabled:!j||v,children:"Update Password"})})]})})]})})]})]})})]})})}},18713:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(10326);function a(){return t.jsx("l-jelly",{color:"rgb(6 83 142)"})}s(17577)},82832:(e,r,s)=>{"use strict";s.d(r,{j:()=>u});var t=s(10326),a=s(50949),o=s(30361),n=s(48449),i=s(77863);let l=(0,n.j)("border text-center p-4 text-sm flex items-center w-full",{variants:{variant:{warning:"bg-yellow-200/80 border-yellow-30 text-primary",success:"bg-emerald-700 border-emerald-800 text-secondary"}},defaultVariants:{variant:"warning"}}),c={warning:a.Z,success:o.Z},u=({label:e,variant:r})=>{let s=c[r||"warning"];return(0,t.jsxs)("div",{className:(0,i.cn)(l({variant:r})),children:[t.jsx(s,{className:"h-4 w-4 mr-2"}),e]})}},29270:(e,r,s)=>{"use strict";s.d(r,{l0:()=>d,NI:()=>w,pf:()=>y,Wi:()=>m,xJ:()=>x,lX:()=>f,zG:()=>v});var t=s(10326),a=s(17577),o=s(33099),n=s(4387),i=s(77863),l=s(81490);let c=(0,s(48449).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...r},s)=>t.jsx(l.f,{ref:s,className:(0,i.cn)(c(),e),...r}));u.displayName=l.f.displayName;let d=n.RV,p=a.createContext({}),m=({...e})=>t.jsx(p.Provider,{value:{name:e.name},children:t.jsx(n.Qr,{...e})}),h=()=>{let e=a.useContext(p),r=a.useContext(g),{getFieldState:s,formState:t}=(0,n.Gc)(),o=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...o}},g=a.createContext({}),x=a.forwardRef(({className:e,...r},s)=>{let o=a.useId();return t.jsx(g.Provider,{value:{id:o},children:t.jsx("div",{ref:s,className:(0,i.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let f=a.forwardRef(({className:e,...r},s)=>{let{error:a,formItemId:o}=h();return t.jsx(u,{ref:s,className:(0,i.cn)(a&&"text-destructive",e),htmlFor:o,...r})});f.displayName="FormLabel";let w=a.forwardRef(({...e},r)=>{let{error:s,formItemId:a,formDescriptionId:n,formMessageId:i}=h();return t.jsx(o.g7,{ref:r,id:a,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...e})});w.displayName="FormControl";let y=a.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:a}=h();return t.jsx("p",{ref:s,id:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});y.displayName="FormDescription";let v=a.forwardRef(({className:e,children:r,...s},a)=>{let{error:o,formMessageId:n}=h(),l=o?String(o?.message):r;return l?t.jsx("p",{ref:a,id:n,className:(0,i.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});v.displayName="FormMessage"},49547:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(44099);s(95044);let a=t.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});a.interceptors.request.use(async e=>{let r;return r&&(e.headers.Authorization=`Bearer ${r}`),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e));let o=a},14960:(e,r,s)=>{"use strict";s.d(r,{j:()=>c});var t=s(95044),a=s(18766),o=s(49547);let n=async e=>{try{return await o.Z.get("/api/auth/verifyToken?token="+e),console.log("[ACTIONS_IS_TOKEN_EXPIRED] Token is valid"),!1}catch(e){return console.log("[ACTIONS_IS_TOKEN_EXPIRED]",e),!0}},i=async({accessToken:e,refreshToken:r})=>{try{console.log("[ACTIONS_GET_REFRESH_TOKEN] Requesting refresh token: accessToken",e,"refreshToken",r);let s=await o.Z.post("/api/auth/refreshToken",{accessToken:e,refreshToken:r});return console.log("[ACTIONS_GET_REFRESH_TOKEN] Refresh token response: ",s.data),s.data}catch(e){if(console.error("[ACTIONS_GET_REFRESH_TOKEN]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},l=()=>{},c=async()=>{let e=t.Z.get("jwtToken"),r=t.Z.get("refreshToken");if(!e||!r)return l(),!1;if(await n(e)===!0)try{let s=await i({accessToken:e,refreshToken:r});console.log("Refresh token response: ",s),t.Z.set("jwtToken",s.token),t.Z.set("refreshToken",s.refreshToken)}catch(e){return u(e),l(),!1}return!0},u=e=>{if(e.response)switch(e.response.status){case 403:a.ZP.error("You do not have permission to access this resource.");break;case 401:a.ZP.error("Session expired. Please login again.");break;case 500:a.ZP.error("Server error. Please try again later.");break;default:a.ZP.error("An error occurred. Please try again.")}else a.ZP.error("Network error. Please check your connection.")}},81490:(e,r,s)=>{"use strict";s.d(r,{f:()=>i});var t=s(17577),a=s(11772),o=s(10326),n=t.forwardRef((e,r)=>(0,o.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var i=n},30361:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50949:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},40928:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\layout.tsx`),{__esModule:o,$$typeof:n}=a;a.default;let i=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\layout.tsx#default`)},15763:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\profile\password\page.tsx`),{__esModule:o,$$typeof:n}=a;a.default;let i=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\profile\password\page.tsx#default`)}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,6648,9936,4099,7033,3487],()=>s(8420));module.exports=t})();