(()=>{var e={};e.id=5617,e.ids=[5617],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},29121:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>u}),s(64881),s(32650),s(85877),s(35866),s(92414),s(26083);var r=s(23191),n=s(88716),a=s(37922),o=s.n(a),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let u=["",{children:["(home)",{children:["(routes)",{children:["authenticate",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,64881)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\signup\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,32650)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\authenticate\\signup\\page.tsx"],d="/(home)/(routes)/authenticate/signup/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(home)/(routes)/authenticate/signup/page",pathname:"/authenticate/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},87767:(e,t,s)=>{Promise.resolve().then(s.bind(s,32794))},32794:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(10326),n=s(98007),a=s(35047),o=s(4387),i=s(89394),l=s(18766),u=s(37261),c=s(33469),d=s(20902),p=s(17577),m=s(1311),g=s(95044),x=s(31200),h=s(33101);let f=i.Ry({email:i.Z_().min(1,{message:"Email is required"}).email("Invalid email address").regex(/^\S+$/,{message:"Email should not contain spaces or tabs"}),password:i.Z_().min(8,{message:"Password must be at least 8 characters"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/\d/,{message:"Password must contain at least one number"}).regex(/[!@#$%^&*(),.?":{}|<>]/,{message:"Password must contain at least one special character"}).regex(/^\S+$/,{message:"Password should not contain spaces or tabs"}),phone:i.Z_().min(10,{message:"Phone number must be exactly 10 digits"}).regex(/^\d+$/,{message:"Invalid phone number"}).max(10,{message:"Phone number must be exactly 10 digits"}).regex(/^0\d{9,10}$/,{message:"Phone number must be a valid Vietnamese number starting with 0 and containing only digits"}).optional(),fullName:i.Z_().min(1,{message:"Full name is required"}).max(50,{message:"Full name can have a maximum of 50 characters"}).optional()}),v=()=>{let e=(0,a.useRouter)(),[t,s]=(0,p.useState)(!1),i=(0,p.useRef)(null),[v,y]=(0,p.useState)(5),[b,w]=(0,p.useState)(!1);(0,o.cI)({resolver:(0,n.F)(f),defaultValues:{email:"",password:"",phone:"",fullName:""}});let P=async e=>{try{console.log(e);let t=await (0,h.y1)(e);console.log("Sign up response: ",t),g.Z.set("jwtToken",t.data.token,{expires:1}),g.Z.set("refreshToken",t.data.refreshToken,{expires:7});let r=await (0,x.ZP)();console.log("User Data Sign Up",r),localStorage.setItem("userData",JSON.stringify(r)),l.ZP.success("Your account has been created"),s(!0),w(!0)}catch(e){l.ZP.error(String(e.response.data)||"Something went wrong")}};(0,p.useEffect)(()=>{if(!0==t){i.current=setTimeout(()=>{e.push("/")},5e3);let t=setInterval(()=>{y(e=>e-1)},1e3);return()=>{i.current&&clearTimeout(i.current),clearInterval(t)}}},[t,e]);let j=async()=>{try{console.log("Initiating Google sign-in popup...");let t=await (0,d.TX)(),s=t.user,r=await s.getIdToken();console.log("Google Sign-In Result:",t);let n=await (0,h.Cb)(r);g.Z.set("jwtToken",n.token,{expires:1}),g.Z.set("refreshToken",n.refreshToken,{expires:7});let a=await (0,x.ZP)();console.log("User Data:",a),localStorage.setItem("userData",JSON.stringify(a)),e.push("/")}catch(e){console.error("Error during Google sign-in with popup:",e),l.ZP.error("Fail to login with Google")}};return r.jsx(r.Fragment,{children:b?r.jsx("div",{className:"fixed inset-0 top-0 left-0 right-0 bottom-0 bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative flex flex-col",children:[r.jsx("h1",{className:"text-center text-2xl pt-10",children:"Thank you for registering!!"}),r.jsx("p",{className:"text-center text-base text-slate-600",children:"Please check your email to verify your account."}),(0,r.jsxs)("p",{className:"mb-4 text-center text-gray-600",children:["You will be redirected to the home page in"," ",r.jsx("span",{className:"font-semibold text-gray-800",children:v})," ","seconds..."]})]})}):(0,r.jsxs)("div",{className:"container relative h-screen flex-col items-center justify-center md:grid lg:max-w-none lg:grid-cols-2 lg:px-0",children:[r.jsx("a",{href:"/authenticate/login",className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1   focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 absolute right-4 top-4 md:right-8 md:top-8",children:"Login"}),r.jsx("div",{className:"relative hidden h-full flex-col bg-muted text-white lg:flex dark:border-r",children:r.jsx(u.lr,{plugins:[(0,c.Z)({delay:6e3})],children:(0,r.jsxs)(u.KI,{children:[r.jsx(u.d$,{}),r.jsx(u.d$,{})]})})}),(0,r.jsxs)("div",{className:"lg:p-8",children:[r.jsx("h1",{className:"text-2xl pt-10",children:"Create Account"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Enter your information into required fields below to create"}),r.jsx(m.Z,{type:"signup",onSubmit:P,handleGoogleSignIn:j})]})]})})}},64881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var r=s(68570);let n=(0,r.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\authenticate\signup\page.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let i=(0,r.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\authenticate\signup\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,6648,9936,4099,7033,1246,4618,3487,9495],()=>s(29121));module.exports=r})();