(()=>{var e={};e.id=7196,e.ids=[7196],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},57067:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c}),t(96612),t(73586),t(85877),t(35866),t(92414),t(26083);var r=t(23191),a=t(88716),n=t(37922),l=t.n(n),o=t(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let c=["",{children:["(home)",{children:["(routes)",{children:["course",{children:["[courseId]",{children:["lesson",{children:["[lessonId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,96612)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\course\\[courseId]\\lesson\\[lessonId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,73586)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\course\\[courseId]\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\course\\[courseId]\\lesson\\[lessonId]\\page.tsx"],d="/(home)/(routes)/course/[courseId]/lesson/[lessonId]/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(home)/(routes)/course/[courseId]/lesson/[lessonId]/page",pathname:"/course/[courseId]/lesson/[lessonId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},74886:(e,s,t)=>{Promise.resolve().then(t.bind(t,69054))},75796:(e,s,t)=>{"use strict";t.d(s,{AY:()=>n,eV:()=>l,vI:()=>a});var r=t(49547);let a=async()=>{try{return(await r.Z.get("/api/admin/auth/getAllInstructor")).data}catch(e){return console.log("[ACTIONS_GET_INSTRUCTOR_WITH_COURSE]",e),[]}},n=async e=>{try{return(await r.Z.get(`/api/user/getInstructorById/${e}`)).data}catch(e){return console.log("[ACTIONS_GET_INSTRUCTOR_INFO_BY_ID]",e),null}},l=async e=>{try{return(await r.Z.get("/api/user/auth/getInstructorHavaImageById",{params:{userId:e}})).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}}},69054:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var r=t(10326),a=t(82832),n=t(8281),l=t(29892),o=t(86333),i=t(39572),c=t(9015);let u=({courseId:e,lesson:s,nextChapterId:t,isLocked:a})=>r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative aspect-video",children:[a&&(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800 flex-col gap-y-2 text-secondary",children:[r.jsx(c.Z,{className:"w-8 h-8"}),r.jsx("p",{className:"text-sm",children:"This lesson is locked!"})]}),!a&&r.jsx("video",{controls:!0,className:"w-full h-full",src:s.videoUrl})]})});var d=t(85072),m=t(90772);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,t(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var p=t(30361),h=t(35047),f=t(17577),g=t(18766);let j=({chapterId:e,courseId:s,isCompleted:t,nextChapterId:a})=>{let n=(0,h.useRouter)(),[l,o]=(0,f.useState)(!1),i=async()=>{try{o(!0),(t?await (0,d.ob)(s,e):await (0,d.ES)(s,e))&&(t=!t),!1!=t&&a?n.push(`/course/${s}/lesson/${a}`):!1==t||a||n.push(`/course/${s}/lesson/courseCertificate`),g.ZP.success("Progress updated"),n.refresh()}catch(e){console.error("[COURSE_PROGRESS_BUTTON]",e),g.ZP.error(e.message||"Something went wrong!")}finally{o(!1)}},c=t?x:p.Z;return(0,r.jsxs)(r.Fragment,{children:[r.jsx(g.Toaster,{}),(0,r.jsxs)(m.z,{onClick:i,disabled:l,type:"button",variant:t?"outline":"success",className:"w-full md:w-auto",children:[t?"Uncompleted":"Mark as completed",r.jsx(c,{className:"h-4 w-4 ml-2"})]})]})};var v=t(46930),y=t(90434),b=t(75796),N=t(28758);let w=({instructorId:e})=>{let[s,t]=(0,f.useState)();return(0,f.useEffect)(()=>{(async function(){try{let s=await (0,b.AY)(e);s&&t(s)}catch(e){console.error("Error fetching instructor:",e)}})()},[e]),(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:"font-semibold text-lg",children:"Instructor Information"}),(0,r.jsxs)("div",{className:"p-4 flex flex-col md:flex-row justify-between",children:[r.jsx(N.qE,{className:"h-16 w-16",children:r.jsx(N.F$,{src:s?.avatarImageUrl||"/avatar-default.svg"})}),(0,r.jsxs)("div",{className:"flex flex-col px-6",children:[r.jsx("h2",{className:"text-base font-normal",children:s?.fullName}),r.jsx("p",{className:"text-sm py-1",children:s?.introduction})]})]}),r.jsx(l.M,{value:s?.professionalExperience||""})]})};var C=t(51585),I=t(18713);let _=({params:e})=>{let[s,t]=(0,f.useState)(),[c,d]=(0,f.useState)(),[m,x]=(0,f.useState)([]),[p,h]=(0,f.useState)(),[g,b]=(0,f.useState)(),[N,_]=(0,f.useState)();if((0,f.useEffect)(()=>{(async function(){try{let s=await (0,v.d)({lessonId:e.lessonId,courseId:e.courseId});console.log("Lesson Data: ",s),t(s.lesson),d(s.course),h(s.nextChapter),b(s.userProgress),_(null!=s.enrollment)}catch(e){console.error("Error fetching lesson:",e)}})()},[e]),!s||!c)return r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:r.jsx(I.Z,{})})});let k=!s.isFree&&!N;return console.log("Lesson completed: ",!!g),r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{children:[g&&r.jsx(a.j,{variant:"success",label:"Completed."}),k&&r.jsx(a.j,{variant:"warning",label:"Need purchase this course to watch."}),(0,r.jsxs)("div",{className:"flex flex-col max-w-4xl mx-auto pb-20",children:[r.jsx("div",{className:"pt-4",children:(0,r.jsxs)(y.default,{href:"/",className:"flex items-center text-sm hover:opacity-75 transition mb-6",children:[r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Back to home page"]})}),r.jsx("div",{className:"px-4",children:r.jsx(u,{courseId:e.courseId,lesson:s,nextChapterId:p?.lessonId||"",isLocked:k})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col md:flex-row justify-between",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-2",children:s.lessonTitle}),N&&r.jsx(j,{chapterId:s.lessonId,courseId:e.courseId,nextChapterId:p?.lessonId,isCompleted:!!g})]}),r.jsx(n.Z,{}),r.jsx("div",{children:r.jsx(l.M,{value:s.lessonDescription})}),!!m.length&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.Z,{}),r.jsx("div",{className:"p-4",children:m.map(e=>(0,r.jsxs)("a",{href:e.url,target:"_blank",className:"flex items-center p-3 w-full bg-sky-200 border text-sky-700 rounded-md hover:underline",children:[r.jsx(i.Z,{}),r.jsx("p",{className:"line-clamp-1",children:e.name})]},e.id))})]}),r.jsx(n.Z,{}),r.jsx("div",{className:"p-4",children:r.jsx(w,{instructorId:c.userId})}),r.jsx(n.Z,{}),r.jsx("div",{className:"p-4",children:r.jsx(C.Z,{courseId:c.courseId})})]})]})})}},51585:(e,s,t)=>{"use strict";t.d(s,{Z:()=>h});var r=t(10326);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var n=t(17577),l=t(49547);let o=async(e,{rating:s,feedback:t})=>{try{let r=`/api/feedbacks/auth/addFeedback/${e}`;console.log("Add feedback endpoint",r,s,t);let a=await l.Z.post(r,{rating:s,feedback:t});return console.log("Add feedback response",a.data),a.data}catch(e){if(console.error("[ACTIONS_ADD_FEEDBACK]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async e=>{try{let s=`/api/feedbacks/getFeedbacks/${e}`,t=await l.Z.get(s);return console.log("Get feedbacks response",t.data),t.data}catch(e){return console.error("[ACTIONS_GET_FEEDBACKS]",e),[]}};var c=t(46930),u=t(90772),d=t(96580),m=t(77863),x=t(18766);let p=({commentData:e,courseId:s})=>{let[t,l]=(0,n.useState)(0),[i,p]=(0,n.useState)(""),[h,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{},[]),(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,c.g)(s);e&&e.lessonProgressList?j(!0):j(!1)}catch(e){console.error("Error fetching enrollment:",e),j(!1)}})()},[s]);let v=e=>{l(e)},y=async()=>{console.log("Rating:",t),console.log("Comment:",i);try{await o(s,{rating:t,feedback:i}),x.ZP.success("Feedback submitted successfully")}catch(e){console.error("[ACTIONS_ADD_FEEDBACK]",e),x.ZP.error(e.message||"Failed to submit feedback")}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.Toaster,{}),(0,r.jsxs)("div",{className:"p-4 border rounded-sm shadow-md",children:[r.jsx("h2",{className:"font-semibold text-base mb-4",children:"Rate this course"}),r.jsx("div",{className:"flex items-center mb-4",children:[1,2,3,4,5].map(e=>r.jsx(a,{className:`h-6 w-6 cursor-pointer ${t>=e?"text-yellow-500 fill-current":"text-gray-300"}`,onClick:()=>v(e)},e))}),r.jsx("textarea",{className:"w-full p-2 border rounded-sm mb-4 text-sm",rows:4,placeholder:"Leave a comment...",value:i,onChange:e=>p(e.target.value)}),r.jsx(u.z,{className:"px-4 py-2",onClick:y,disabled:!h||!g||!t||(0,d.Wv)(),children:"Submit"})]}),(0,r.jsxs)("div",{className:"pt-6",children:[r.jsx("h2",{className:"font-semibold text-base mb-2",children:"Comments and Ratings"}),e.map(e=>(0,r.jsxs)("div",{className:"mb-2 p-4 border rounded-sm shadow-md",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2 justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[[1,2,3,4,5].map(s=>r.jsx(a,{className:`h-4 w-4 ${e.rating>=s?"text-yellow-500":"text-gray-300"}`},s)),r.jsx("span",{className:"ml-2 font-semibold text-sm",children:e.fullName})]}),r.jsx("div",{className:"text-gray-500 text-xs",children:(0,m.h)(e.createdAt)})]}),r.jsx("p",{className:"text-sm",children:e.feedback})]},e.id))]})]})},h=({courseId:e})=>{let[s,t]=(0,n.useState)([]),[l,o]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{(async()=>{t(await i(e)),o(!1)})()},[e]),l)return r.jsx("div",{children:"Loading..."});let c=s.length,u=c?(s.reduce((e,s)=>e+s.rating,0)/c).toFixed(1):"0.0",d=Number(u)/5*100;return(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:"font-semibold text-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"relative h-6 w-6 mr-2",children:[r.jsx(a,{className:"absolute top-0 left-0 h-full w-full text-gray-300"}),r.jsx(a,{className:"absolute top-0 left-0 h-full w-full text-yellow-500",style:{clipPath:`inset(0 ${100-d}% 0 0)`}})]}),(0,r.jsxs)("span",{children:[u," course rating"]}),r.jsx("span",{className:"mx-2",children:"•"}),(0,r.jsxs)("span",{children:[c," ratings"]})]})}),r.jsx("div",{className:"pt-6",children:r.jsx(p,{commentData:s,courseId:e})})]})}},29892:(e,s,t)=>{"use strict";t.d(s,{M:()=>o});var r=t(10326),a=t(18713),n=t(33265),l=t(17577);t(15168);let o=({value:e})=>{let[s,t]=(0,l.useState)(!1),o=(0,l.useMemo)(()=>(0,n.default)(async()=>{},{loadableGenerated:{modules:["components\\preview.tsx -> react-quill"]},ssr:!1,loading:()=>r.jsx(a.Z,{})}),[]),i=s?e:e.slice(0,500)+(e.length>500?"...":"");return(0,r.jsxs)("div",{children:[r.jsx(o,{theme:"bubble",value:i,readOnly:!0}),e.length>500&&r.jsx("div",{className:"inline-block",children:r.jsx("button",{onClick:()=>{t(e=>!e)},className:"px-3 text-sm",children:s?"Show less":"Show more"})})]})}},8281:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(10326),a=t(17577),n=t(3696),l=t(77863);let o=a.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...a},o)=>r.jsx(n.f,{ref:o,decorative:t,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));o.displayName=n.f.displayName},3696:(e,s,t)=>{"use strict";t.d(s,{f:()=>c});var r=t(17577),a=t(11772),n=t(10326),l="horizontal",o=["horizontal","vertical"],i=r.forwardRef((e,s)=>{let{decorative:t,orientation:r=l,...i}=e,c=o.includes(r)?r:l;return(0,n.jsx)(a.WV.div,{"data-orientation":c,...t?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...i,ref:s})});i.displayName="Separator";var c=i},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39572:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62881).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},33265:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(43353),a=t.n(r)},43353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let r=t(98052);t(10326),t(17577);let a=r._(t(77028));function n(e,s){var t;let r={loading:e=>{let{error:s,isLoading:t,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let n={...r,...s};return(0,a.default)({...n,modules:null==(t=n.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=t(94129);function a(e){let{reason:s,children:t}=e;throw new r.BailoutToCSRError(s)}},77028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return c}});let r=t(10326),a=t(17577),n=t(933),l=t(46618);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let s={...i,...e},t=(0,a.lazy)(()=>s.loader().then(o)),c=s.loading;function u(e){let o=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=s.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.PreloadCss,{moduleIds:s.modules}),(0,r.jsx)(t,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(a.Suspense,{fallback:o,children:i})}return u.displayName="LoadableComponent",u}},46618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return n}});let r=t(10326),a=t(55403);function n(e){let{moduleIds:s}=e,t=(0,a.getExpectedRequestStore)("next/dynamic css"),n=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));n.push(...s)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},96612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var r=t(68570);let a=(0,r.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\course\[courseId]\lesson\[lessonId]\page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\course\[courseId]\lesson\[lessonId]\page.tsx#default`)},15168:()=>{}};var s=require("../../../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,6648,9936,4099,1380,3487,1469],()=>t(57067));module.exports=r})();