(()=>{var e={};e.id=1639,e.ids=[1639],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},78809:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>u}),s(82174),s(40928),s(85877),s(35866),s(92414),s(26083);var t=s(23191),a=s(88716),o=s(37922),n=s.n(o),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let u=["",{children:["(home)",{children:["(routes)",{children:["user",{children:["profile",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,82174)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\profile\\account\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,40928)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85877)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,92414)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Kyrov\\Desktop\\CursusCourse-elearning\\cursus-online-course-management-frontend\\app\\(home)\\(routes)\\user\\profile\\account\\page.tsx"],d="/(home)/(routes)/user/profile/account/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(home)/(routes)/user/profile/account/page",pathname:"/user/profile/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},18261:(e,r,s)=>{Promise.resolve().then(s.bind(s,8936))},55044:(e,r,s)=>{Promise.resolve().then(s.bind(s,91826))},83994:(e,r,s)=>{"use strict";s.d(r,{GA:()=>i,Mu:()=>l,gg:()=>o,hH:()=>n,lm:()=>u,xC:()=>a});var t=s(49547);let a=async()=>{try{return(await t.Z.get("/api/admin/auth/getAllStudent")).data}catch(e){return console.log("[ACTIONS_GET_STUDENT_WITH_ENROLLMENT]",e),[]}},o=async e=>{try{let r=new FormData;r.append("file",e);let s=await t.Z.put("/api/user/auth/uploadAvatar",r);return console.log("Upload response",s.data),s.data}catch(e){if(console.error("[ACTIONS_UPLOAD_AVATAR]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},n=async e=>{try{return(await t.Z.get("/api/courses/auth/getStudentOwnedCoursesById",{params:{userId:e}})).data}catch(e){return console.log("[ACTIONS_GET_STUDENT_OWN_COURSES]",e),[]}},i=async e=>{try{return(await t.Z.get("/api/user/auth/getUserById",{params:{userId:e}})).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}},l=async(e,r)=>{try{let s=`/api/admin/auth/updateStatusUser/${e}`;return(await t.Z.put(s,null,{params:{newStatus:r}})).data}catch(e){if(console.error("[ACTIONS_GET_USER]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},u=async e=>{try{return(await t.Z.get(`/api/auth/sendVerifyEmail/${e}`)).data}catch(e){if(console.error("[ACTIONS_VERIFY_EMAIL]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}}},31200:(e,r,s)=>{"use strict";s.d(r,{Cp:()=>i,Nq:()=>n,PR:()=>o,ZP:()=>a,zP:()=>l});var t=s(49547);let a=async()=>{try{return(await t.Z.get("/api/user/auth/getFullUserDetails")).data}catch(e){return console.error("[ACTIONS_GET_FULL_USER_DETAILS]",e),null}},o=async()=>{try{return(await t.Z.get("/api/user/auth/getUser")).data}catch(e){return console.error("[ACTIONS_GET_USER]",e),null}},n=async e=>{try{return(await t.Z.put("/api/user/auth/updateUser",e)).data}catch(e){if(console.error("[ACTIONS_UPDATE_USER]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},i=async e=>{try{return(await t.Z.patch("/api/user/auth/changePassword",e)).data}catch(e){if(console.error("[ACTIONS_CHANGE_PASSWORD]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},l=async e=>{try{return(await t.Z.put("/api/user/auth/registerBecomeInstructor",e)).data}catch(e){if(console.error("[ACTIONS_REGISTER_BECOME_INSTRUCTOR]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}}},95090:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d});var t=s(10326),a=s(83994),o=s(31200),n=s(90772),i=s(77083),l=s(96580),u=s(17577),c=s(18766);let d=()=>{let[e,r]=(0,u.useState)();if((0,u.useEffect)(()=>{(async()=>{try{let e=await (0,o.ZP)();r(e)}catch(e){c.ZP.error(e.message||"Failed to get user")}})()},[]),!e)return null;console.log("Form header user data",e);let s=async()=>{try{await (0,a.lm)(e?.email),c.ZP.success("Verification email sent! Check your inbox")}catch(e){c.ZP.error(e.message||"Something went wrong")}};return(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.x,{}),(0,t.jsxs)("div",{className:"space-y-0.5",children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and what you wanna be in Cursus"})]}),!(0,l.pE)()&&t.jsx(n.z,{onClick:s,children:"Verify account"})]})}},92632:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(10326),a=s(35047);let o=()=>{(0,a.useRouter)();let e=(0,a.usePathname)(),r=r=>{let s="inline-flex items-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:text-accent-foreground h-9 px-4 py-2 justify-start";return e===r?`${s} bg-muted hover:bg-muted`:`${s} hover:bg-transparent hover:underline`};return(0,t.jsxs)("nav",{className:"flex flex-wrap space-x-0 lg:flex-col lg:space-x-0 lg:space-y-1",children:[t.jsx("a",{href:"/user/profile",className:r("/user/profile"),children:"Profile"}),t.jsx("a",{href:"/user/profile/avatar",className:r("/user/profile/avatar"),children:"Upload Avatar"}),t.jsx("a",{href:"/user/profile/password",className:r("/user/profile/password"),children:"Edit Password"}),t.jsx("a",{href:"/user/profile/account",className:r("/user/profile/account"),children:"Account"})]})}},8936:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(10326),a=s(17577),o=s(82832),n=s(96580),i=s(14960);let l=({children:e})=>{let[r,s]=(0,a.useState)(!1),[l,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(0,i.j)(),s((0,n.Wv)()),u((0,n.pE)())},[]),(0,t.jsxs)(t.Fragment,{children:[r&&t.jsx(o.j,{label:"Your student account is blocked. Please contact support."}),!l&&t.jsx(o.j,{label:"Your account is not verified. Please verify your account to continue."}),e]})}},91826:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>w});var t=s(10326),a=s(89394),o=s(29270),n=s(92632),i=s(4387),l=s(98007),u=s(90772),c=s(18766),d=s(35047),p=s(17577),m=s(31200),h=s(87673),g=s(18713),f=s(95090),x=s(88996);let y=a.Ry({introduction:a.Z_().min(1,{message:"Introduction is required"}),professionalExperience:a.Z_().min(1,{message:"Experience is required"})}),w=()=>{let[e,r]=(0,p.useState)(null),[s,a]=(0,p.useState)(!0),w=(0,d.useRouter)(),v=(0,i.cI)({resolver:(0,l.F)(y),mode:"onChange",defaultValues:e||void 0}),{handleSubmit:j,trigger:b,reset:E,formState:{errors:N,isSubmitting:C,isValid:S},watch:_}=v,[P,T]=(0,p.useState)(!1),k=_();(0,p.useEffect)(()=>{T(Object.keys(k).some(r=>e&&k[r]!==e[r]))},[k,e]),(0,p.useEffect)(()=>{(async()=>{try{let e=await (0,m.ZP)();r(e),E(e)}catch(e){console.error("Failed to fetch user details:",e)}finally{a(!1)}})()},[E]);let Z=async e=>{try{await (0,m.zP)(e),console.log("Your request to be instructor send successfully"),c.ZP.success("Your request to be instructor send successfully"),v.reset(e),w.refresh()}catch(e){console.error("Failed to send request:",e)}};return s?t.jsx(t.Fragment,{children:t.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:t.jsx(g.Z,{})})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Toaster,{}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"rounded-[0.5rem] border bg-background shadow",children:(0,t.jsxs)("div",{className:"space-y-6 p-10 pb-16",children:[t.jsx(f.Z,{}),t.jsx("div",{className:"shrink-0 bg-border h-[1px] w-full my-6"}),(0,t.jsxs)("div",{className:"flex flex-col space-y-8 lg:flex-row lg:space-x-12 lg:space-y-0",children:[t.jsx("aside",{className:"-mx-4 lg:w-1/5",children:t.jsx(n.Z,{})}),t.jsx("div",{className:"flex-1 lg:max-w-2xl",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"Account"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Turn what you know into an opportunity and reach millions around the world. Become an instructor and change lives â€” including your own."})]}),t.jsx("div",{className:"shrink-0 bg-border h-[1px] w-full my-6"}),t.jsx(o.l0,{...v,children:(0,t.jsxs)("form",{onSubmit:j(Z),className:"space-y-4 mt-8",children:[t.jsx(o.Wi,{control:v.control,name:"introduction",render:({field:e})=>(0,t.jsxs)(o.xJ,{children:[t.jsx(o.lX,{children:"Your Introduction"}),t.jsx(o.NI,{children:t.jsx(h.g,{className:"h-32",disabled:C,placeholder:"Introduction about yourself",...e,onBlur:()=>b("introduction")})}),N.introduction&&t.jsx(o.zG,{children:N.introduction.message})]})}),t.jsx(o.Wi,{control:v.control,name:"professionalExperience",render:({field:e})=>(0,t.jsxs)(o.xJ,{children:[t.jsx(o.lX,{children:"Your Experience"}),t.jsx(o.NI,{children:t.jsx(h.g,{className:"h-32",disabled:C,placeholder:"Professional experience",...e,value:e.value||"",onBlur:()=>b("professionalExperience")})}),N.professionalExperience&&t.jsx(o.zG,{children:N.professionalExperience.message})]})}),t.jsx("div",{className:"flex items-center gap-x-2 justify-end",children:t.jsx(u.z,{type:"submit",disabled:!S||C||!P,children:(0,x.w)()?"Update Profile Instructor":"Become a Cursus Instructor"})})]})})]})})]})]})})})]})}},18713:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(10326);function a(){return t.jsx("l-jelly",{color:"rgb(6 83 142)"})}s(17577)},82832:(e,r,s)=>{"use strict";s.d(r,{j:()=>c});var t=s(10326),a=s(50949),o=s(30361),n=s(48449),i=s(77863);let l=(0,n.j)("border text-center p-4 text-sm flex items-center w-full",{variants:{variant:{warning:"bg-yellow-200/80 border-yellow-30 text-primary",success:"bg-emerald-700 border-emerald-800 text-secondary"}},defaultVariants:{variant:"warning"}}),u={warning:a.Z,success:o.Z},c=({label:e,variant:r})=>{let s=u[r||"warning"];return(0,t.jsxs)("div",{className:(0,i.cn)(l({variant:r})),children:[t.jsx(s,{className:"h-4 w-4 mr-2"}),e]})}},29270:(e,r,s)=>{"use strict";s.d(r,{l0:()=>d,NI:()=>y,pf:()=>w,Wi:()=>m,xJ:()=>f,lX:()=>x,zG:()=>v});var t=s(10326),a=s(17577),o=s(33099),n=s(4387),i=s(77863),l=s(81490);let u=(0,s(48449).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...r},s)=>t.jsx(l.f,{ref:s,className:(0,i.cn)(u(),e),...r}));c.displayName=l.f.displayName;let d=n.RV,p=a.createContext({}),m=({...e})=>t.jsx(p.Provider,{value:{name:e.name},children:t.jsx(n.Qr,{...e})}),h=()=>{let e=a.useContext(p),r=a.useContext(g),{getFieldState:s,formState:t}=(0,n.Gc)(),o=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...o}},g=a.createContext({}),f=a.forwardRef(({className:e,...r},s)=>{let o=a.useId();return t.jsx(g.Provider,{value:{id:o},children:t.jsx("div",{ref:s,className:(0,i.cn)("space-y-2",e),...r})})});f.displayName="FormItem";let x=a.forwardRef(({className:e,...r},s)=>{let{error:a,formItemId:o}=h();return t.jsx(c,{ref:s,className:(0,i.cn)(a&&"text-destructive",e),htmlFor:o,...r})});x.displayName="FormLabel";let y=a.forwardRef(({...e},r)=>{let{error:s,formItemId:a,formDescriptionId:n,formMessageId:i}=h();return t.jsx(o.g7,{ref:r,id:a,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...e})});y.displayName="FormControl";let w=a.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:a}=h();return t.jsx("p",{ref:s,id:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});w.displayName="FormDescription";let v=a.forwardRef(({className:e,children:r,...s},a)=>{let{error:o,formMessageId:n}=h(),l=o?String(o?.message):r;return l?t.jsx("p",{ref:a,id:n,className:(0,i.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});v.displayName="FormMessage"},87673:(e,r,s)=>{"use strict";s.d(r,{g:()=>n});var t=s(10326),a=s(17577),o=s(77863);let n=a.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Textarea"},49547:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(44099);s(95044);let a=t.Z.create({baseURL:"https://guardianshield.uk/",withCredentials:!0});a.interceptors.request.use(async e=>{let r;return r&&(e.headers.Authorization=`Bearer ${r}`),e.data instanceof FormData||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e));let o=a},14960:(e,r,s)=>{"use strict";s.d(r,{j:()=>u});var t=s(95044),a=s(18766),o=s(49547);let n=async e=>{try{return await o.Z.get("/api/auth/verifyToken?token="+e),console.log("[ACTIONS_IS_TOKEN_EXPIRED] Token is valid"),!1}catch(e){return console.log("[ACTIONS_IS_TOKEN_EXPIRED]",e),!0}},i=async({accessToken:e,refreshToken:r})=>{try{console.log("[ACTIONS_GET_REFRESH_TOKEN] Requesting refresh token: accessToken",e,"refreshToken",r);let s=await o.Z.post("/api/auth/refreshToken",{accessToken:e,refreshToken:r});return console.log("[ACTIONS_GET_REFRESH_TOKEN] Refresh token response: ",s.data),s.data}catch(e){if(console.error("[ACTIONS_GET_REFRESH_TOKEN]",e),e.response&&e.response.data)throw Error(e.response.data.message||"Something went wrong!");throw Error(e.message||"Something went wrong!")}},l=()=>{},u=async()=>{let e=t.Z.get("jwtToken"),r=t.Z.get("refreshToken");if(!e||!r)return l(),!1;if(await n(e)===!0)try{let s=await i({accessToken:e,refreshToken:r});console.log("Refresh token response: ",s),t.Z.set("jwtToken",s.token),t.Z.set("refreshToken",s.refreshToken)}catch(e){return c(e),l(),!1}return!0},c=e=>{if(e.response)switch(e.response.status){case 403:a.ZP.error("You do not have permission to access this resource.");break;case 401:a.ZP.error("Session expired. Please login again.");break;case 500:a.ZP.error("Server error. Please try again later.");break;default:a.ZP.error("An error occurred. Please try again.")}else a.ZP.error("Network error. Please check your connection.")}},81490:(e,r,s)=>{"use strict";s.d(r,{f:()=>i});var t=s(17577),a=s(11772),o=s(10326),n=t.forwardRef((e,r)=>(0,o.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var i=n},30361:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50949:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},40928:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\layout.tsx`),{__esModule:o,$$typeof:n}=a;a.default;let i=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\layout.tsx#default`)},82174:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\profile\account\page.tsx`),{__esModule:o,$$typeof:n}=a;a.default;let i=(0,t.createProxy)(String.raw`C:\Users\Kyrov\Desktop\CursusCourse-elearning\cursus-online-course-management-frontend\app\(home)\(routes)\user\profile\account\page.tsx#default`)}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,6648,9936,4099,7033,3487],()=>s(78809));module.exports=t})();